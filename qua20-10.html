<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ M√≥n qu√† 20/10 üíê</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  padding: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
  font-family: 'Quicksand', sans-serif;
  text-align: center;
  overflow: hidden;
  position: relative;
  perspective: 1000px;
  transition: opacity 700ms ease-in, transform 700ms ease-in;
  opacity: 0;
  transform: scale(0.95);
}
body.fade-in {
  opacity: 1;
  transform: scale(1);
}

/* INPUT */
#name-input-container {
  margin-bottom: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
  opacity: 1;
  transform: translateY(0);
}
#name-input-container.fade-out-name {
  opacity: 0;
  transform: translateY(-20px);
}
#input-wrapper {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}
#name-input-container input,
#name-input-container button {
  padding: 10px 15px;
  border-radius: 25px;
  border: 2px solid #ff69b4;
  font-size: 16px;
  font-family: 'Quicksand', sans-serif;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}
#name-input-container input {
  width: 200px;
}
#name-input-container input:focus {
  outline: none;
  border-color: #ff1493;
  box-shadow: 0 0 10px rgba(255, 20, 147, 0.5);
  transform: scale(1.01);
}
#name-input-container button {
  background-color: #ff69b4;
  color: white;
  cursor: pointer;
  font-weight: 700;
  width: 200px;
  animation: subtleGlow 2s infinite alternate, subtleShake 5s infinite;
  box-shadow: 0 4px 10px rgba(255,105,180,0.6);
  position: relative;
  overflow: visible;
}
#name-input-container button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ff69b4;
  border-radius: 25px;
  z-index: -1;
  animation: ripplePulse 2s infinite cubic-bezier(0.66, 0.0, 0.34, 1.0);
  opacity: 0;
}
#name-input-container button:hover {
  background-color: #ff1493;
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 15px rgba(255,20,147,0.5);
  animation: none;
}
#name-input-container button:active {
  background-color: #880e4f;
  transform: translateY(0px) scale(0.98);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: all 0.1s ease;
}
@keyframes subtleGlow {
  from { box-shadow: 0 4px 10px rgba(255,105,180,0.6); }
  to { box-shadow: 0 4px 15px rgba(255,105,180,0.9); }
}
@keyframes subtleShake {
  0%,100%{transform:translateX(0);}
  25%{transform:translateX(-0.5px);}
  75%{transform:translateX(0.5px);}
}
@keyframes ripplePulse {
  0%{transform:scale(1);opacity:0.75;}
  100%{transform:scale(1.5);opacity:0;}
}

/* NOTE + GIFT */
#note {
  color: #880e4f;
  font-size: 20px;
  font-weight: 700;
  margin-top: 25px;
  animation: glowText 2.5s ease-in-out infinite alternate;
  text-shadow: 0 0 6px rgba(255,182,193,0.7);
}
@keyframes glowText {
  from {opacity:0.7; transform:scale(1);}
  to {opacity:1; transform:scale(1.02);}
}
#gift-box {
  width: 300px;
  cursor: pointer;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.7s ease-in-out;
  display: none;
  border-radius: 10px;
  box-shadow: 0 10px 15px rgba(0,0,0,0.2);
}
#gift-box.fade-in-gift {
  opacity: 1;
  transform: scale(1);
  animation: pulse 2s infinite ease-in-out;
}
@keyframes pulse {
  0%{transform:scale(1);}
  50%{transform:scale(1.05);}
  100%{transform:scale(1);}
}

/* CARD */
#card {
  display: none;
  background: #fffcf8;
  border-radius: 25px;
  border: 12px solid #fce4ec;
  box-shadow: 0 0 25px rgba(255,105,180,0.4);
  padding: 50px;
  width: 85%;
  max-width: 650px;
  text-align: center;
  opacity: 0;
  transform: scale(0.8);
  position: relative;
  z-index: 10;
}
#card.show {
  display: block;
  animation: cardSlideIn 1.2s cubic-bezier(0.25,0.46,0.45,0.94) forwards;
}
@keyframes cardSlideIn {
  0% {transform:translateY(30vh) scale(0.8); opacity:0;}
  100% {transform:translateY(0) scale(1); opacity:1;}
}
#card h1 {
  color:#b80050;
  font-family:'Playfair Display', serif;
  font-size:45px;
  margin:10px 0 20px 0;
}
#card p {
  font-size:18px;
  color:#111;
  line-height:1.6;
  font-family:'Quicksand', sans-serif;
  width:90%;
  margin:0 auto;
}
#card p strong {color:#ff3385;}
.line {
  opacity:0;
  transform:translateY(15px);
  display:block;
  margin-bottom:12px;
}
.line.show {
  animation: lineUp 1s forwards;
}
@keyframes lineUp {
  to {opacity:1; transform:translateY(0);}
}
.signature {
  margin-top:30px;
  font-family:'Playfair Display', serif;
  font-size:28px;
  color:#b80050;
}

/* DECOR */
.deco-flower {
  position:absolute;
  font-size:25px;
  color:#ff80ab;
  opacity:0;
  animation: decoAppear 2s ease-out forwards;
}
@keyframes decoAppear {
  0%{opacity:0;transform:scale(0.5) rotate(0deg);}
  100%{opacity:1;transform:scale(1) rotate(10deg);}
}
#deco-tl{top:10px;left:10px;}
#deco-tr{top:10px;right:10px;}
#deco-bl{bottom:10px;left:10px;}
#deco-br{bottom:10px;right:10px;}

/* HEARTS */
.falling-heart {
  position: fixed;
  top: -10px;
  pointer-events:none;
  animation: fall 6s linear forwards;
  z-index:1;
  opacity:0.8;
}
@keyframes fall {
  0% {transform:translateY(0) rotate(0deg);opacity:0.8;}
  100% {transform:translateY(110vh) rotate(360deg);opacity:0;}
}
.click-heart {
  position: fixed;
  animation: floatUp 1.5s ease-out forwards;
  font-size:28px;
  pointer-events:none;
}
@keyframes floatUp {
  0% {transform:translateY(0) scale(1);opacity:1;}
  100% {transform:translateY(-100px) scale(2);opacity:0;}
}
.confetti {
  position: fixed;
  width: 6px;
  height: 6px;
  border-radius:50%;
  opacity:0.9;
  animation: confetti-fall 3s ease-out forwards;
  z-index:20;
}
@keyframes confetti-fall {
  0% {transform:translateY(0) rotate(0);opacity:1;}
  100% {transform:translateY(100vh) rotate(720deg);opacity:0;}
}
@media(max-width:600px){
  #card{border:8px solid #fce4ec;padding:25px 15px;width:95%;}
  #gift-box{width:250px;}
  #note{font-size:16px;}
  #card h1{font-size:30px;}
  #card p{font-size:14px;}
  .signature{font-size:20px;}
}
</style>
</head>
<body>

<div id="name-input-container">
  <div id="input-wrapper">
    <input type="text" id="recipient-name" placeholder="Nh·∫≠p t√™n">
  </div>
  <button id="start-btn">üéÅ Nh·∫≠n qu√†</button>
</div>

<img id="gift-box" src="1.jpg" alt="H·ªôp qu√†">
<div id="note">üí¨ Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü nh√© üíñ</div>

<div id="card">
  <div class="deco-flower" id="deco-tl">üå∏</div>
  <div class="deco-flower" id="deco-tr">üå∏</div>
  <div class="deco-flower" id="deco-bl">üå∏</div>
  <div class="deco-flower" id="deco-br">üå∏</div>

  <h1>üå∑üíñ Ch√∫c M·ª´ng 20/10 üíêüå∏</h1>
  <<p>
  <span class="line">Th√¢n g·ª≠i **[name]** y√™u qu√Ω!</span>
  <span class="line">T·∫∑ng nh·ªØng b√¥ng hoa r·ª±c r·ª° nh·∫•t cho ng∆∞·ªùi ph·ª• n·ªØ tuy·ªát v·ªùi nh·∫•t! üíêüå∑</span>
  <span class="line">üåπ Nh√¢n ng√†y 20/10, xin g·ª≠i l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t t·ªõi **[name]**.</span>
  <span class="line">üå∏ Ch√∫c **[name]** lu√¥n vui v·∫ª, kh·ªèe m·∫°nh, tr·∫ª trung v√† xinh ƒë·∫πp. üå∏</span>
  
  <span class="line">‚ú® Ch√∫c **[name]** g·∫∑t h√°i nhi·ªÅu th√†nh c√¥ng v√† lu√¥n h·∫°nh ph√∫c. ‚ú®</span>
  <span class="line">üíñ Mong n·ª• c∆∞·ªùi r·∫°ng r·ª° lu√¥n n·ªü tr√™n m√¥i **[name]** m·ªói ng√†y.</span>

  <span class="line">üéÅ H√£y t·∫≠n h∆∞·ªüng ng√†y ƒë·∫∑c bi·ªát n√†y th·∫≠t tr·ªçn v·∫πn nh√©!</span>
  <span class="line">üíï Ch√∫c **[name]** h·ªçc gi·ªèi, v√† m√£i l√† c√¥ g√°i tuy·ªát v·ªùi c·ªßa 12A11!</span>
  <span class="line">üíê Ch√∫c **[name]** c√≥ m·ªôt ng√†y 20/10 th·∫≠t √Ω nghƒ©a v√† ng·∫≠p tr√†n ni·ªÅm vui b√™n nh·ªØng ng∆∞·ªùi th√¢n y√™u! üíê</span>
</p>
  <div class="signature">T·∫≠p th·ªÉ nam sinh 12A11 g·ª≠i t·∫∑ng</div>
</div>

<script>
const giftBox=document.getElementById('gift-box');
const card=document.getElementById('card');
const note=document.getElementById('note');
const lines=document.querySelectorAll('.line');
const nameInputContainer=document.getElementById('name-input-container');
const recipientNameInput=document.getElementById('recipient-name');
const startBtn=document.getElementById('start-btn');

document.addEventListener('DOMContentLoaded',()=>{document.body.classList.add('fade-in');});
const isMobile=window.innerWidth<=600;

startBtn.addEventListener('click',()=>{
  const name=recipientNameInput.value.trim().replace(/[<>]/g,"");
  if(!name){alert("Vui l√≤ng nh·∫≠p t√™n ng∆∞·ªùi nh·∫≠n! üíñ");return;}
  lines.forEach(line=>{
    let content=line.innerHTML;
    content=content.replace(/\*\*\[name\]\*\*/g,`<strong>${name}</strong>`);
    content=content.replace(/\[name\]/g,`<strong>${name}</strong>`);
    line.innerHTML=content;
  });
  nameInputContainer.classList.add("fade-out-name");
  setTimeout(()=>{
    nameInputContainer.style.display="none";
    giftBox.style.display="block";
    setTimeout(()=>giftBox.classList.add("fade-in-gift"),10);
    note.textContent=`üí¨ Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü, ${name} üíñ`;
  },500);
});

giftBox.addEventListener('click',()=>{
  note.style.display="none";
  giftBox.src="2.png";
  giftBox.style.cursor="default";
  const numConfetti=isMobile?2:5;
  for(let i=0;i<numConfetti;i++){
    const conf=document.createElement("div");
    conf.classList.add("confetti");
    conf.style.left=Math.random()*100+"vw";
    conf.style.backgroundColor=["#ff4da6","#ffb6c1","#ffd700","#66ccff","#ff66ff"][Math.floor(Math.random()*5)];
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(),2500);
  }
  giftBox.classList.add("fade-out");
  setTimeout(()=>{
    giftBox.style.display="none";
    card.classList.add("show");
    lines.forEach((line,i)=>setTimeout(()=>line.classList.add('show'),500+i*400));
  },800);
});

function startBackgroundEffects(){
  const icons=['üíñ','üå∏'];
  const interval=isMobile?3000:1500;
  setInterval(()=>{
    const icon=document.createElement("div");
    icon.textContent=icons[Math.floor(Math.random()*icons.length)];
    icon.style.left=Math.random()*100+"vw";
    icon.classList.add("falling-heart");
    icon.style.fontSize=(isMobile?Math.random()*4+10:Math.random()*6+12)+"px";
    document.body.appendChild(icon);
    setTimeout(()=>icon.remove(),6000);
  },interval);
}
startBackgroundEffects();

document.addEventListener("click",e=>{
  const heart=document.createElement("div");
  heart.textContent="üíó";
  heart.className="click-heart";
  heart.style.left=e.clientX+"px";
  heart.style.top=e.clientY+"px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),1000);
});
</script>
</body>
</html>
