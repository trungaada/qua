<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ M√≥n qu√† 20/10 üíê</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ... (Gi·ªØ nguy√™n ph·∫ßn CSS t·ª´ body ƒë·∫øn @media) ... */
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
    font-family: 'Quicksand', sans-serif;
    text-align: center;
    overflow: hidden;
    position: relative;
    perspective: 1000px;
  }

  #note {
    color: #880e4f;
    font-size: 20px;
    font-weight: 700;
    margin-top: 25px;
    animation: glowText 2.5s ease-in-out infinite alternate;
    text-shadow: 0 0 6px rgba(255,182,193,0.7);
  }

  @keyframes glowText {
    from {opacity:0.7; transform:scale(1);}
    to {opacity:1; transform:scale(1.02);}
  }

  #gift-box {
    width: 300px;
    cursor: pointer;
    transition: transform 0.5s ease, box-shadow 0.5s ease;
    animation: pulse 2s infinite ease-in-out;
    z-index: 5;
    box-shadow: 0 10px 15px rgba(0,0,0,0.2);
    border-radius: 10px;
    will-change: transform;
  }

  #gift-box:hover {
    transform: scale(1.05);
    box-shadow: 0 12px 25px rgba(255,105,180,0.5);
  }

  @keyframes pulse {
    0% {transform:scale(1);}
    50% {transform:scale(1.05);}
    100% {transform:scale(1);}
  }

  .fade-out { animation: fadeOut 1s forwards; }
  @keyframes fadeOut {
    from {opacity:1; transform:scale(1);}
    to {opacity:0; transform:scale(0.7);}
  }

  #card {
    display: none;
    background: #fffcf8;
    border-radius: 25px;
    border: 12px solid #fce4ec;
    box-shadow: 0 0 25px rgba(255,105,180,0.4);
    padding: 50px;
    width: 85%;
    max-width: 650px;
    text-align: center;
    opacity: 0;
    transform: scale(0.8);
    position: relative;
    overflow: hidden;
    will-change: transform, opacity;
    /* Gi·ªØ nguy√™n background-image */
    background-image: radial-gradient(#ffebee 10%, transparent 10%),
                      radial-gradient(#ffcdd2 10%, transparent 10%);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
  }

  #card::before {
    content:'';
    position:absolute;
    top:20px; left:20px; right:20px; bottom:20px;
    border:2px dashed #ff99b3;
    border-radius:10px;
    pointer-events:none;
    z-index:1;
  }

  /* T·ªëi ∆∞u h√≥a: Gi·∫£m th·ªùi gian ho·∫°t ·∫£nh l·∫≠t thi·ªáp t·ª´ 1.5s xu·ªëng 1.2s */
  @keyframes cardFlipIn {
    0% {transform:scale(0.8) rotateX(90deg); opacity:0;}
    100% {transform:scale(1) rotateX(0deg); opacity:1;}
  }

  #card.show {
    display: block;
    animation: cardFlipIn 1.2s ease-out forwards; 
  }

  #card h1 {
    color:#b80050;
    font-family:'Playfair Display', serif;
    font-size:45px;
    margin:10px 0 20px 0;
    font-weight:700;
    text-shadow: 2px 2px 3px rgba(0,0,0,0.2);
    animation: titlePulse 2.5s infinite ease-in-out;
  }

  @keyframes titlePulse {
    0% {transform:scale(1);}
    50% {transform:scale(1.01);}
    100% {transform:scale(1);}
  }

  #card p {
    font-size:18px;
    color:#111;
    line-height:1.6;
    font-family:'Quicksand', sans-serif;
    font-weight:500;
    text-align:center;
    width:90%;
    margin:0 auto;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  #card p strong {
    color:#ff3385;
    font-weight:700;
  }

  .signature {
    margin-top:30px;
    font-family:'Playfair Display', serif;
    font-size:28px;
    color:#b80050;
    font-weight:700;
    text-align:center;
    text-shadow:1px 1px 2px rgba(0,0,0,0.15);
  }

  .line {
    opacity:0;
    transform: translateY(15px);
    display:block;
    margin-bottom:12px;
    text-align:center;
  }

  .line.show {
    animation: lineUp 1s cubic-bezier(0.25,0.46,0.45,0.94) forwards;
  }

  @keyframes lineUp {
    to {opacity:1; transform:translateY(0);}
  }

  /* Tim r∆°i */
  .falling-heart {
    position: fixed;
    top: -10px;
    pointer-events:none;
    /* Gi·∫£m th·ªùi gian animation t·ª´ 8s xu·ªëng 6s ƒë·ªÉ heart bi·∫øn m·∫•t nhanh h∆°n */
    animation: fall 6s linear forwards; 
    z-index:1;
    opacity:0.8;
  }

  @keyframes fall {
    0% {transform:translateY(0) rotate(0deg); opacity:0.8;}
    100% {transform:translateY(110vh) rotate(360deg); opacity:0;}
  }

  .click-heart {
    position: fixed;
    animation: floatUp 1.5s ease-out forwards;
    font-size:28px;
    pointer-events:none;
  }

  @keyframes floatUp {
    0% {transform:translateY(0) scale(1); opacity:1;}
    100% {transform:translateY(-100px) scale(2); opacity:0;}
  }

  .confetti {
    position: fixed;
    width: 6px;
    height: 6px;
    border-radius:50%;
    opacity:0.9;
    animation: confetti-fall 3s ease-out forwards;
    z-index:20;
  }

  @keyframes confetti-fall {
    0% {transform:translateY(0) rotate(0); opacity:1;}
    100% {transform:translateY(100vh) rotate(720deg); opacity:0;}
  }

  /* Mobile optimizations */
  @media(max-width:600px){
    #card {border-radius:15px; border:8px solid #fce4ec; padding:25px 15px; width:95%; background-image:none;}
    #card::before {top:15px; left:15px; right:15px; bottom:15px;}
    #gift-box {width:250px;}
    #note {font-size:16px;}
    #card h1 {font-size:30px; margin-bottom:15px;}
    #card p {font-size:14px; width:100%;}
    .signature {font-size:20px; margin-top:20px;}
    .line {margin-bottom:8px;}
  }
</style>
</head>
<body>

<img id="gift-box" src="1.jpg" alt="H·ªôp qu√†">
<div id="note">üí¨ Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü nh√© üíñ</div>

<div id="card">
  <div class="card-main-icon">‚ù§Ô∏è</div>
  <h1>üíñ Ch√∫c M·ª´ng 20/10 üíê</h1>
  <p>
    <span class="line">Th√¢n g·ª≠i **C√¥ Mai** v√† c√°c **b·∫°n n·ªØ 12A11**!</span>
    <span class="line">üåπ Nh√¢n ng√†y 20/10, t·∫≠p th·ªÉ nam sinh xin g·ª≠i nh·ªØng l·ªùi ch√∫c **t∆∞∆°i ƒë·∫πp** v√† **t·ªët l√†nh nh·∫•t** t·ªõi nh·ªØng ng∆∞·ªùi ph·ª• n·ªØ **tuy·ªát v·ªùi** c·ªßa l·ªõp ch√∫ng ta.</span>
    <span class="line">üå∏ **C√¥ Mai** - Ch√∫c C√¥ lu√¥n **vui v·∫ª**, **kh·ªèe m·∫°nh**, m√£i m√£i **tr·∫ª trung** v√† l√† ng∆∞·ªùi th·∫Øp l·ª≠a **ni·ªÅm ƒëam m√™** cho ch√∫ng em.</span>
    <span class="line">‚ú® Ch√∫c c√°c **b·∫°n n·ªØ** - nh·ªØng **b√¥ng hoa r·ª±c r·ª°** c·ªßa 12A11, lu√¥n **xinh ƒë·∫πp**, h·ªçc t·∫≠p **th√†nh c√¥ng**, v√† th·∫≠t **h·∫°nh ph√∫c** trong m·ªçi kho·∫£nh kh·∫Øc.</span>
    <span class="line">üíï C·∫£m ∆°n c√°c b·∫°n ƒë√£ t·∫°o n√™n nh·ªØng **k·ª∑ ni·ªám ƒë√°ng nh·ªõ** v√† t√¥ th√™m m√†u **r·ª±c r·ª°** cho qu√£ng th·ªùi gian c·∫•p 3 n√†y.</span>
    <span class="line">üíê Ch√∫c C√¥ v√† c√°c b·∫°n c√≥ m·ªôt ng√†y 20/10 th·∫≠t **√Ω nghƒ©a** v√† **ng·∫≠p tr√†n ni·ªÅm vui** b√™n nh·ªØng ng∆∞·ªùi th√¢n y√™u!</span>
    <span class="line">**Tr√¢n tr·ªçng v√† y√™u qu√Ω!**</span>
  </p>
  <div class="signature">T·∫≠p th·ªÉ nam sinh 12A11 g·ª≠i t·∫∑ng</div>
</div>

<script>
const giftBox=document.getElementById('gift-box');
const card=document.getElementById('card');
const note=document.getElementById('note');
const lines=document.querySelectorAll('.line');

// X√°c ƒë·ªãnh thi·∫øt b·ªã di ƒë·ªông
const isMobile = window.innerWidth <= 600;

// Thay ** th√†nh <strong>
lines.forEach(line=>{
¬† line.innerHTML=line.textContent.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>');
});

giftBox.addEventListener('click',()=>{
¬† note.style.display="none";
¬† giftBox.src="2.png";
¬† giftBox.style.cursor="default";

¬† // T·ªëi ∆∞u h√≥a Confetti: Gi·∫£m s·ªë l∆∞·ª£ng tr√™n mobile
¬† const numConfetti = isMobile ? 2 : 5;
¬† for(let i=0;i<numConfetti;i++){
¬† ¬† const conf=document.createElement("div");
¬† ¬† conf.classList.add("confetti");
¬† ¬† conf.style.left=Math.random()*100+"vw";
¬† ¬† conf.style.backgroundColor=["#ff4da6","#ffb6c1","#ffd700","#66ccff","#ff66ff"][Math.floor(Math.random()*5)];
¬† ¬† // Gi·∫£m k√≠ch th∆∞·ªõc v√† th·ªùi gian animation tr√™n mobile
¬† ¬† conf.style.width=isMobile ? Math.random()*3+2+"px" : Math.random()*5+3+"px";
¬† ¬† conf.style.height=isMobile ? Math.random()*3+2+"px" : Math.random()*5+3+"px";
¬† ¬† conf.style.animationDuration=isMobile ? 2+Math.random()*0.5+"s" : 2+Math.random()*1+"s";
¬† ¬† document.body.appendChild(conf);
¬† ¬† setTimeout(()=>conf.remove(),2500);
¬† }

¬† giftBox.classList.add("fade-out"); // B·∫Øt ƒë·∫ßu l√†m m·ªù (0.8s)

¬† // Gi·ªØ nguy√™n logic chuy·ªÉn m√†n h√¨nh (800ms)
¬† setTimeout(()=>{
¬† ¬† giftBox.style.display="none";
¬† ¬† card.classList.add("show");
¬† ¬† 
¬† ¬† // Gi·ªØ nguy√™n logic hi·ªán t·ª´ng d√≤ng
¬† ¬† const initialLineDelay = 500;
¬† ¬† lines.forEach((line,i)=>{ 
¬† ¬† ¬† setTimeout(()=>line.classList.add('show'), initialLineDelay + i*400); 
¬† ¬† });
¬† },800);
});

// T·ªëi ∆∞u h√≥a Tim r∆°i n·ªÅn: Gi·∫£m t·∫ßn su·∫•t ho·∫∑c t·∫Øt h·∫≥n tr√™n mobile
if (!isMobile) {
    // Desktop: Gi·ªØ nguy√™n t·ªëc ƒë·ªô 2.5s/heart
    setInterval(()=>{
¬†       const heart=document.createElement("div");
¬†       heart.textContent="üíñ";
¬†       heart.classList.add("falling-heart");
¬†       heart.style.left=Math.random()*100+"vw";
¬†       heart.style.fontSize=Math.random()*6+12+"px";
¬†       document.body.appendChild(heart);
¬†       setTimeout(()=>heart.remove(),6000);
    },2500);
} else {
    // Mobile: TƒÉng th·ªùi gian ch·ªù l√™n 5 gi√¢y (√≠t t·∫°o ph·∫ßn t·ª≠ m·ªõi h∆°n)
    setInterval(()=>{
¬†       const heart=document.createElement("div");
¬†       heart.textContent="üíñ";
¬†       heart.classList.add("falling-heart");
¬†       heart.style.left=Math.random()*100+"vw";
¬†       heart.style.fontSize=Math.random()*4+10+"px"; // Tim nh·ªè h∆°n
¬†       document.body.appendChild(heart);
¬†       setTimeout(()=>heart.remove(),6000);
    },5000); 
}


// Tim bay khi click (Gi·ªØ nguy√™n, kh√¥ng qu√° n·∫∑ng)
document.addEventListener("click",e=>{
¬† const heart=document.createElement("div");
¬† heart.textContent="üíó";
¬† heart.className="click-heart";
¬† heart.style.left=e.clientX+"px";
¬† heart.style.top=e.clientY+"px";
¬† document.body.appendChild(heart);
¬† setTimeout(()=>heart.remove(),1000);
});
</script>

</body>
</html>
